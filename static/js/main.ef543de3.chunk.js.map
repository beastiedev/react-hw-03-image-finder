{"version":3,"sources":["components/Searchbar/index.jsx","components/ImageGalleryItem/index.jsx","components/ImageGallery/index.jsx","components/Button/index.jsx","components/Modal/index.jsx","AppConfig.js","App.js","serviceWorker.js","index.js"],"names":["Searchbar","state","queryString","handleInputChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","onGalleryItemClick","onClick","src","webformatURL","alt","id","ImageGallery","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","prevGallery","gallery","nextGallery","length","snapshot","scrollDown","map","key","PureComponent","Button","Modal","handleOnOverlayClick","onCloseModal","handleOnModalClick","stopPropagation","handleCloseModal","code","addEventListener","removeEventListener","largeImageURL","AppConfig","PIXABAY_API_KEY","App","page","isLoading","isModal","modalImage","handleOnSubmitSearchbar","search","getGallery","handleOnLoadMore","handleOnGalleryItemClick","handleOnCloseModal","axios","get","then","response","setUniq","data","hits","filter","item","index","self","findIndex","t","color","height","width","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.ef543de3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    queryString: \"\",\n  };\n\n  handleInputChange = (e) => this.setState({ queryString: e.target.value });\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit({\n      queryString: this.state.queryString,\n    });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.handleInputChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ image, onGalleryItemClick }) => {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onGalleryItemClick(image)}>\n      <img\n        src={image.webformatURL}\n        alt={image.id}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number,\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import React, { PureComponent } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nclass ImageGallery extends PureComponent {\n  scrollDown() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const prevGallery = prevProps.gallery;\n    const nextGallery = this.props.gallery;\n    if (prevGallery.length < nextGallery.length) {\n      return nextGallery.length - prevGallery.length;\n    }\n    return 0;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot) {\n      this.scrollDown();\n    }\n  }\n\n  render() {\n    return (\n      <ul className=\"ImageGallery\">\n        {this.props.gallery.map((image) => (\n          <ImageGalleryItem\n            key={image.id}\n            image={image}\n            onGalleryItemClick={this.props.onGalleryItemClick}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    })\n  ),\n};\n\nexport default ImageGallery;\n","import React from \"react\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  handleOnOverlayClick = () => {\n    this.props.onCloseModal();\n  };\n\n  handleOnModalClick = (e) => {\n    e.stopPropagation();\n  };\n\n  handleCloseModal = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onCloseModal();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleOnOverlayClick}>\n        <div className=\"Modal\" onClick={this.handleOnModalClick}>\n          <img src={this.props.image.largeImageURL} alt={this.props.image.id} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","const AppConfig = {\n  PIXABAY_API_KEY: \"18287920-2c6b357e03b1c2c3350c52738\",\n};\n\nexport default AppConfig;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport axios from \"axios\";\nimport Button from \"./components/Button\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./components/Modal\";\nimport AppConfig from \"./AppConfig\";\n\nclass App extends Component {\n  PIXABAY_API_KEY = AppConfig.PIXABAY_API_KEY;\n  state = {\n    gallery: [],\n    queryString: \"\",\n    page: 1,\n    isLoading: false,\n    isModal: false,\n    modalImage: {},\n  };\n\n  handleOnSubmitSearchbar = (search) => {\n    this.setState(\n      { gallery: [], page: 1, queryString: search.queryString },\n      this.getGallery\n    );\n  };\n\n  handleOnLoadMore = () => {\n    this.setState(\n      ({ page }) => ({\n        page: page + 1,\n      }),\n      this.getGallery\n    );\n  };\n\n  handleOnGalleryItemClick = (image) => {\n    this.setState({ isModal: true, modalImage: image });\n  };\n\n  handleOnCloseModal = () => {\n    this.setState({ isModal: false, modalImage: null });\n  };\n\n  getGallery() {\n    this.setState({ isLoading: true }, () =>\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${this.state.queryString}&page=${this.state.page}&key=${this.PIXABAY_API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .then((response) => {\n          this.setState(({ gallery }) => ({\n            gallery: this.setUniq([...gallery, ...response.data.hits]),\n            isLoading: false,\n          }));\n        })\n    );\n  }\n\n  setUniq(gallery) {\n    return gallery.filter(\n      (item, index, self) => index === self.findIndex((t) => t.id === item.id)\n    );\n  }\n\n  componentDidMount() {\n    this.getGallery();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleOnSubmitSearchbar} />\n        <ImageGallery\n          gallery={this.state.gallery}\n          onGalleryItemClick={this.handleOnGalleryItemClick}\n        />\n        {this.state.isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        {!!this.state.gallery.length && (\n          <Button onClick={this.handleOnLoadMore} />\n        )}\n        {this.state.isModal && this.state.modalImage && (\n          <Modal\n            onCloseModal={this.handleOnCloseModal}\n            image={this.state.modalImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}